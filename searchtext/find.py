import os

# üëâ –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ–º –∏—Å–∫–∞—Ç—å —Ñ–∞–π–ª—ã
DIRECTORY = r"C:\PycharmProjects\my1project\ContentFiles\Test"

# üëâ –°—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ñ–∞–π–ª–∞—Ö
FIND_STRING = "–ø—Ä–æ—Å—Ç–æ—Å—Ç—Ä–æ–∫"

def find_string_in_file(file, find_string):
    """
    –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª, —á–∏—Ç–∞–µ—Ç –≤–µ—Å—å —Ç–µ–∫—Å—Ç
    –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –≤ –Ω—ë–º –∏—Å–∫–æ–º–∞—è —Å—Ç—Ä–æ–∫–∞.
    –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –Ω–∞–π–¥–µ–Ω–∞ ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç print_find_info().
    """
    with open(file, "r", encoding="utf-8") as f:
        content = f.read()  # —á–∏—Ç–∞–µ–º –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
    index = content.find(find_string)  # –∏—â–µ–º –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏
    if index != -1:
        print_find_info(file, content, find_string)  # –µ—Å–ª–∏ –Ω–∞—à–ª–∏ ‚Üí –ø–µ—á–∞—Ç–∞–µ–º –∏–Ω—Ñ–æ

def print_find_info(file, content, find_string):
    """
    –§—É–Ω–∫—Ü–∏—è –ø–µ—á–∞—Ç–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–µ, –≥–¥–µ –Ω–∞–π–¥–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞.
    """
    print(f"‚úÖ –ù–∞–π–¥–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ '{find_string}' –≤ —Ñ–∞–π–ª–µ: {file}")
    # –º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –≤—ã–≤–æ–¥–æ–º –ø–æ–∑–∏—Ü–∏–∏, —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –∏ –¥—Ä.

def find(find_directory, find_string):
    """
    –§—É–Ω–∫—Ü–∏—è –æ–±—Ö–æ–¥–∏—Ç –ø–∞–ø–∫—É (–∏ –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ),
    –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª —á–µ—Ä–µ–∑ find_string_in_file().
    """
    for root, dirs, files in os.walk(find_directory):
        for name in files:
            filepath = os.path.join(root, name)  # –ø–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
            find_string_in_file(filepath, find_string)  # –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π–ª

# üëâ –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–∏—Å–∫
find(DIRECTORY, FIND_STRING)
